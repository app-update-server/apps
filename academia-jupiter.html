<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>J√∫piter Smart Academy | Masterclass Profissional</title>
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">

    <style>
        /* --- DESIGN TOKENS & THEME --- */
        /* Ajustado para um tema financeiro mais s√≥brio, mas moderno */
        :root {
            --primary-hue: 220; /* Azul profissional */
            --secondary-hue: 150; /* Verde para finan√ßas/sucesso */
            
            --color-primary: hsl(var(--primary-hue), 80%, 50%);
            --color-primary-dark: hsl(var(--primary-hue), 80%, 40%);
            --color-accent: hsl(var(--secondary-hue), 70%, 45%);
            
            --bg-app: #111827; /* Fundo escuro profundo */
            --bg-panel: #1f2937; /* Pain√©is ligeiramente mais claros */
            --bg-panel-hover: #374151;
            --border-color: #374151;
            
            --text-primary: #f9fafb;
            --text-secondary: #d1d5db;
            --text-muted: #9ca3af;
            
            --success-color: #10b981;
            --radius-md: 8px;
            --radius-lg: 12px;
            --shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 0.05);
            --shadow-md: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
            
            --header-height: 64px;
            --sidebar-width: 340px; /* Um pouco mais largo para t√≠tulos longos */
        }

        /* --- RESET & BASE STYLES --- */
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: 'Inter', sans-serif;
            background-color: var(--bg-app);
            color: var(--text-primary);
            height: 100vh;
            display: flex;
            flex-direction: column;
            overflow: hidden;
            /* Sutil gradiente de fundo */
            background-image: radial-gradient(circle at 80% 10%, rgba(16, 185, 129, 0.08), transparent 40%),
                              radial-gradient(circle at 10% 90%, rgba(59, 130, 246, 0.08), transparent 40%);
        }
        a { text-decoration: none; color: inherit; }
        button { border: none; background: none; cursor: pointer; font-family: inherit; }

        /* --- LAYOUT COMPONENTS --- */
        
        /* Header */
        .app-header {
            height: var(--header-height);
            padding: 0 24px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            background-color: rgba(31, 41, 55, 0.8); /* Transl√∫cido */
            backdrop-filter: blur(12px);
            border-bottom: 1px solid var(--border-color);
            z-index: 10;
        }
        .brand {
            display: flex; align-items: center; gap: 12px;
            font-weight: 700; font-size: 1.125rem;
        }
        .brand-icon {
            color: var(--color-accent); font-size: 1.5rem; /* √çcone verde */
        }
        .user-progress-container {
            display: flex; align-items: center; gap: 12px;
            font-size: 0.875rem; color: var(--text-secondary);
            background: rgba(0,0,0,0.2); padding: 6px 12px; border-radius: 20px;
        }
        .progress-bar {
            width: 120px; height: 6px;
            background-color: rgba(255,255,255,0.1);
            border-radius: 4px; overflow: hidden;
        }
        .progress-fill {
            height: 100%; background-color: var(--color-accent); /* Barra verde */
            width: 0%; transition: width 0.5s cubic-bezier(0.4, 0, 0.2, 1);
        }

        /* Main Content Area */
        .main-container {
            flex: 1; display: flex; overflow: hidden;
            position: relative;
        }

        /* Video Stage */
        .video-stage {
            flex: 1; display: flex; flex-direction: column;
            overflow-y: auto; padding: 32px;
        }
        .video-wrapper {
            width: 100%; max-width: 1024px; margin: 0 auto;
            aspect-ratio: 16/9;
            background-color: #000;
            border-radius: var(--radius-lg);
            overflow: hidden;
            box-shadow: 0 20px 25px -5px rgb(0 0 0 / 0.2), 0 8px 10px -6px rgb(0 0 0 / 0.2);
            border: 1px solid rgba(255,255,255,0.05);
        }
        iframe { width: 100%; height: 100%; border: none; }
        
        .video-info {
            max-width: 1024px; margin: 32px auto 0;
        }
        .video-meta {
            display: flex; gap: 12px; margin-bottom: 16px;
            font-size: 0.875rem; color: var(--text-secondary); font-weight: 500;
        }
        .meta-badge {
            padding: 6px 12px; border-radius: 20px;
            background-color: var(--bg-panel); border: 1px solid var(--border-color);
            display: flex; align-items: center; gap: 6px;
        }
        .meta-badge.highlight {
            color: var(--color-accent); background-color: rgba(16, 185, 129, 0.1); border-color: rgba(16, 185, 129, 0.2);
        }
        .video-title {
            font-size: 2rem; font-weight: 800; margin-bottom: 16px; letter-spacing: -0.025em;
        }
        .video-description {
            color: var(--text-secondary); line-height: 1.7; font-size: 1rem;
        }

        /* Sidebar & Navigation */
        .sidebar {
            width: var(--sidebar-width);
            background-color: var(--bg-panel);
            border-left: 1px solid var(--border-color);
            display: flex; flex-direction: column;
            z-index: 5;
        }
        .sidebar-header {
            padding: 20px;
            border-bottom: 1px solid var(--border-color);
            font-weight: 700; color: var(--text-primary); font-size: 1rem;
        }
        .module-nav {
            flex: 1; overflow-y: auto;
        }

        /* Accordion Module Design */
        .module-item {
            border-bottom: 1px solid var(--border-color);
        }
        .module-header {
            width: 100%; padding: 18px 20px;
            display: flex; align-items: center; justify-content: space-between;
            color: var(--text-primary); font-weight: 600; text-align: left;
            transition: background-color 0.2s; font-size: 0.95rem;
        }
        .module-header:hover { background-color: var(--bg-panel-hover); }
        .module-title-text { display: flex; align-items: center; gap: 10px; }
        .module-number {
            background: rgba(255,255,255,0.05); width: 24px; height: 24px;
            display: flex; align-items: center; justify-content: center;
            border-radius: 50%; font-size: 0.75rem; color: var(--text-muted);
        }
        .module-toggle-icon { transition: transform 0.3s; color: var(--text-muted); font-size: 0.9rem; }
        .module-item.active .module-toggle-icon { transform: rotate(180deg); }

        .lesson-list {
            display: none; background-color: rgba(17, 24, 39, 0.3); /* Fundo ligeiramente mais escuro */
        }
        .module-item.active .lesson-list { display: block; }

        .lesson-item {
            display: flex; align-items: flex-start; gap: 14px;
            padding: 14px 20px;
            cursor: pointer; transition: all 0.2s;
            border-left: 3px solid transparent;
        }
        .lesson-item:hover { background-color: var(--bg-panel-hover); }
        .lesson-item.active-lesson {
            background-color: rgba(16, 185, 129, 0.08); /* Verde claro */
            border-left-color: var(--color-accent);
        }
        .lesson-item.watched .lesson-title { color: var(--text-muted); }

        .lesson-status-icon {
            margin-top: 3px; color: var(--text-muted); font-size: 1.1rem;
        }
        .lesson-item.watched .lesson-status-icon { color: var(--success-color); }
        .lesson-item.active-lesson .lesson-status-icon.fa-play-circle { color: var(--color-accent); }

        .lesson-content { flex: 1; }
        .lesson-title { font-size: 0.9rem; margin-bottom: 6px; line-height: 1.4; font-weight: 500; }
        .lesson-duration { font-size: 0.75rem; color: var(--text-muted); display: flex; align-items: center; gap: 5px; }

        /* Sidebar Footer */
        .sidebar-footer {
            padding: 20px; border-top: 1px solid var(--border-color);
        }
        .support-card {
            background: linear-gradient(to right, rgba(16, 185, 129, 0.1), rgba(59, 130, 246, 0.1));
            padding: 16px; border-radius: var(--radius-lg); text-align: center;
            border: 1px solid rgba(255,255,255,0.05);
        }
        .support-text { font-size: 0.875rem; color: var(--text-secondary); margin-bottom: 12px; }
        .btn-support {
            width: 100%; padding: 12px;
            display: flex; align-items: center; justify-content: center; gap: 10px;
            background-color: var(--color-accent); color: #fff;
            border-radius: var(--radius-md); font-weight: 600;
            transition: all 0.2s; text-shadow: 0 1px 2px rgba(0,0,0,0.2);
        }
        .btn-support:hover { background-color: hsl(var(--secondary-hue), 70%, 40%); transform: translateY(-2px); box-shadow: 0 4px 12px rgba(16, 185, 129, 0.3); }

        /* --- RESPONSIVE DESIGN --- */
        @media (max-width: 1024px) {
            .main-container { flex-direction: column; }
            .video-stage { flex: none; padding: 20px; }
            .sidebar {
                width: 100%; height: auto; flex: 1;
                border-left: none; border-top: 1px solid var(--border-color);
            }
            .module-nav { max-height: none; }
        }

        @media (max-width: 768px) {
            .app-header { padding: 0 16px; }
            .brand span { display: none; }
            .video-title { font-size: 1.5rem; }
            .sidebar-header, .module-header, .lesson-item, .sidebar-footer { padding-left: 16px; padding-right: 16px; }
        }
    </style>
</head>
<body>

    <header class="app-header">
        <div class="brand">
            <i class="fas fa-chart-line brand-icon"></i>
            <div>J√∫piter Smart <span>Academy</span></div>
        </div>
        <div class="user-progress-container">
            <span id="progress-text">0% Conclu√≠do</span>
            <div class="progress-bar">
                <div class="progress-fill" id="progress-fill"></div>
            </div>
        </div>
    </header>

    <main class="main-container">
        
        <section class="video-stage">
            <div class="video-wrapper">
                <iframe id="video-player" src="" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
            </div>

            <div class="video-info">
                <div class="video-meta">
                    <span class="meta-badge highlight" id="video-module-name">
                        <i class="fa-solid fa-layer-group" style="font-size: 0.8em;"></i>
                        <span>M√≥dulo</span>
                    </span>
                    <span class="meta-badge">
                        <i class="fa-regular fa-clock"></i>
                        <span id="video-duration">--:--</span>
                    </span>
                </div>
                <h1 class="video-title" id="video-title">Selecione uma aula para come√ßar</h1>
                <p class="video-description" id="video-desc">Bem-vindo √† sua Masterclass de controle financeiro. Navegue pelos m√≥dulos na barra lateral para iniciar sua jornada rumo ao dom√≠nio das suas finan√ßas.</p>
            </div>
        </section>

        <aside class="sidebar">
            <div class="sidebar-header">Conte√∫do Program√°tico</div>
            
            <nav class="module-nav" id="module-accordion-container">
                </nav>

            <div class="sidebar-footer">
                <div class="support-card">
                    <p class="support-text">D√∫vidas durante a jornada? Nosso time est√° pronto para ajudar.</p>
                    <a href="https://wa.me/5521980649585?text=Ol%C3%A1%2C%20sou%20aluno%20do%20*J%C3%BApiter%20Smart%20Academy*%20e%20preciso%20de%20ajuda." target="_blank" class="btn-support">
                        <i class="fa-brands fa-whatsapp" style="font-size: 1.2em;"></i> Falar com Suporte VIP
                    </a>
                </div>
            </div>
        </aside>

    </main>

    <script>
        /**
         * ==================================================================
         * üß¨ CAMADA DE DADOS (Model)
         * Centraliza todas as informa√ß√µes do curso J√∫piter Smart Pro.
         * ==================================================================
         */
        const courseData = [
            {
                id: "mod_inicio",
                title: "1. In√≠cio R√°pido & Filosofia",
                lessons: [
                    { id: "UUX3d1jZe3k", title: "Bem-vindo: A Filosofia do Controle 100% Offline", duration: "02:05", description: "Entenda por que o J√∫piter Smart Pro √© diferente: seus dados financeiros ficam apenas no seu computador, garantindo total privacidade e seguran√ßa." },
                    { id: "5iCB8jRLBh4", title: "Configurando Suas Contas Financeiras", duration: "02:19", description: "O primeiro passo pr√°tico: aprenda a cadastrar suas contas banc√°rias, carteiras digitais e dinheiro em esp√©cie corretamente." },
                    { id: "7lVJ9HIOIfU", title: "Personalizando Categorias de Receitas e Despesas", duration: "02:33", description: "Organize suas finan√ßas do seu jeito. Crie, edite e exclua categorias para que os relat√≥rios reflitam sua realidade." },
                    { id: "Ab413puW9qw", title: "Seu Primeiro Lan√ßamento e o Poder das Tags", duration: "03:22", description: "Vamos registrar uma movimenta√ß√£o financeira juntos e descobrir como usar Tags para agrupar lan√ßamentos de projetos ou viagens espec√≠ficas." }
                ]
            },
            {
                id: "mod_operacao",
                title: "2. Opera√ß√£o Di√°ria Essencial",
                lessons: [
                    { id: "LAuQrRJXTrM", title: "Movendo Dinheiro: Transfer√™ncias Entre Contas", duration: "02:24", description: "Aprenda a registrar transfer√™ncias (ex: da conta corrente para a poupan√ßa) sem duplicar lan√ßamentos ou bagun√ßar seus relat√≥rios." },
                    { id: "0KhdyAayBl8", title: "Dominando os Status: Pendente vs. Pago", duration: "02:17", description: "Por que seu saldo nunca bate com o banco? Entenda a diferen√ßa crucial entre um lan√ßamento agendado e um j√° efetivado." },
                    { id: "3PCjVNwIWi4", title: "Gerenciando Contas a Receber (Para Aut√¥nomos)", duration: "02:08", description: "N√£o perca o controle de quem te deve. Saiba como registrar e monitorar valores que voc√™ tem a receber de clientes." },
                    { id: "yw9VhtdortA", title: "Seu Assistente de Cobran√ßa: Alertas Inteligentes", duration: "02:11", description: "Veja como a IA do sistema monitora datas de vencimento e te avisa proativamente sobre contas a receber e a pagar." }
                ]
            },
            {
                id: "mod_automacao",
                title: "3. Automa√ß√µes e Gest√£o de D√≠vidas",
                lessons: [
                    { id: "MvI-ifCDUYQ", title: "Automa√ß√£o 1: Configurando Contas Recorrentes", duration: "02:19", description: "Pare de lan√ßar a mesma conta todo m√™s. Aprenda a automatizar o registro de alugu√©is, assinaturas e contas fixas." },
                    { id: "BbFnRcTWIuU", title: "Automa√ß√£o 2: O Painel de Lembretes do M√™s", duration: "02:39", description: "Veja o resultado das suas automa√ß√µes: um painel centralizado que te mostra tudo o que vence no m√™s atual." },
                    { id: "7QyatJ1LNnI", title: "Gerenciando Cart√µes de Cr√©dito: O Cadastro Correto", duration: "01:48", description: "O passo mais importante para n√£o se perder nas faturas: como cadastrar seus cart√µes, datas de fechamento e vencimento." },
                    { id: "yuOy_VIDovM", title: "Lan√ßando Compras Parceladas (Cart√£o e Boleto)", duration: "02:39", description: "Use o modal inteligente de parcelamento para registrar compras a prazo e projetar suas d√≠vidas futuras." },
                    { id: "rMSACFifzXg", title: "Analisando Suas Faturas de Cart√£o", duration: "02:23", description: "Navegue pelo visualizador de faturas para entender seus gastos por cart√£o e m√™s a m√™s." },
                    { id: "-_mWZL-xCEM", title: "Gerenciador de Parcelas e Amortiza√ß√£o", duration: "03:06", description: "Aprenda a antecipar parcelas, amortizar d√≠vidas e ver o impacto disso no seu fluxo de caixa futuro." }
                ]
            },
             {
                id: "mod_analise",
                title: "4. An√°lise Estrat√©gica e Futuro",
                lessons: [
                    { id: "uwiaiG7yqG4", title: "Preparando o Ambiente: Importando Dados de Teste", duration: "01:53", description: "Aprenda a importar o arquivo de demonstra√ß√£o para explorar os gr√°ficos e relat√≥rios com dados fict√≠cios antes de usar os seus." },
                    { id: "ukGGf8QTERU", title: "An√°lise Visual: Entendendo Seus Gr√°ficos Financeiros", duration: "02:23", description: "Para onde vai seu dinheiro? Interpretando os 3 principais gr√°ficos que respondem a essa pergunta crucial." },
                    { id: "0Oz4kfj-cA0", title: "Mergulho Profundo: An√°lise Avan√ßada por Tag e Categoria", duration: "02:19", description: "Use filtros poderosos para detalhar seus gastos. Descubra, por exemplo, quanto custou exatamente aquela viagem de f√©rias." },
                    { id: "3pPvYWu_1d4", title: "Preparando Seu Laborat√≥rio de Estrat√©gia e Investimentos", duration: "01:52", description: "Configure os par√¢metros dos seus investimentos (CDB, Poupan√ßa, etc.) para simular cen√°rios futuros." },
                    { id: "1hfkiPPr8xU", title: "Projetando Seu Futuro: O Laborat√≥rio Financeiro", duration: "02:19", description: "Use a IA para projetar seu saldo daqui a 1 ou 2 anos, considerando sua capacidade real de economia e rendimentos." }
                ] 
            },
            {
                id: "mod_seguranca",
                title: "5. Seguran√ßa Cr√≠tica e Backups",
                lessons: [
                    { id: "Blu8Q6LcZHM", title: "Backup e Restaura√ß√£o: Protegendo Seus Dados", duration: "02:11", description: "Essencial! Aprenda a criar e restaurar backups manuais para garantir que seus dados nunca sejam perdidos, mesmo se trocar de PC." },
                    { id: "S5NVlrtP0Sk", title: "Cofre Digital: O Assistente de PIN de 3 Passos", duration: "02:24", description: "Ative a camada extra de seguran√ßa com um PIN de acesso, garantindo que s√≥ voc√™ abra o aplicativo." },
                    { id: "y13zunbVwg4", title: "AVISO CR√çTICO: Alterar e Recuperar Seu PIN", duration: "02:16", description: "Entenda o mecanismo de seguran√ßa e o √öNICO m√©todo para recuperar o acesso caso esque√ßa seu PIN. Assista com aten√ß√£o!" }
                ] 
            },
            {
                id: "mod_conclusao",
                title: "6. Conclus√£o e Pr√≥ximos Passos",
                lessons: [
                    { id: "IznZiSDAkUQ", title: "Como Obter Suporte T√©cnico Oficial", duration: "01:35", description: "Saiba qual √© o canal oficial e exclusivo para tirar d√∫vidas t√©cnicas e reportar problemas com sua licen√ßa v√°lida." }
                ] 
            }
        ];

        /**
         * ==================================================================
         * ‚öôÔ∏è CAMADA DE APLICA√á√ÉO (Controller & View)
         * Gerencia a l√≥gica, o estado e a renderiza√ß√£o da interface.
         * ==================================================================
         */
        
        // --- Estado da Aplica√ß√£o ---
        const appState = {
            watchedLessons: new Set(JSON.parse(localStorage.getItem('jupiterSmart_watched')) || []),
            activeModuleIndex: 0, // M√≥dulo aberto no accordion
            currentLessonId: null
        };

        // --- Refer√™ncias aos Elementos do DOM ---
        const dom = {
            player: document.getElementById('video-player'),
            videoTitle: document.getElementById('video-title'),
            videoDesc: document.getElementById('video-desc'),
            videoDuration: document.getElementById('video-duration'),
            videoModuleName: document.getElementById('video-module-name'),
            accordionContainer: document.getElementById('module-accordion-container'),
            progressText: document.getElementById('progress-text'),
            progressFill: document.getElementById('progress-fill')
        };

        // --- Fun√ß√µes Principais ---

        /**
         * Inicializa a aplica√ß√£o.
         */
        function initApp() {
            renderSidebar();
            updateGlobalProgress();
            
            // Tenta carregar a primeira aula
            const firstModule = courseData[0];
            if (firstModule && firstModule.lessons.length > 0) {
                const firstLesson = firstModule.lessons[0];
                // N√£o inicia o v√≠deo automaticamente, apenas carrega os metadados
                loadLessonMetadata(firstLesson.id, firstModule.title);
                // Abre o primeiro m√≥dulo por padr√£o
                toggleModule(0);
            }
        }

        /**
         * Renderiza a barra lateral com base nos dados do curso.
         */
        function renderSidebar() {
            dom.accordionContainer.innerHTML = courseData.map((module, moduleIdx) => {
                const isActiveModule = moduleIdx === appState.activeModuleIndex;
                
                const lessonsHTML = module.lessons.map((lesson, lessonIdx) => {
                    const isWatched = appState.watchedLessons.has(lesson.id);
                    const isActiveLesson = lesson.id === appState.currentLessonId;
                    
                    let iconClass = isWatched ? "fa-solid fa-circle-check" : "fa-regular fa-circle";
                    if (isActiveLesson && !isWatched) iconClass = "fa-regular fa-circle-play";

                    return `
                        <div class="lesson-item ${isActiveLesson ? 'active-lesson' : ''} ${isWatched ? 'watched' : ''}" 
                             onclick="handleLessonClick('${lesson.id}', '${module.title}')">
                            <i class="${iconClass} lesson-status-icon"></i>
                            <div class="lesson-content">
                                <div class="lesson-title">
                                    <span style="color: var(--text-muted); margin-right: 6px; font-size: 0.85em;">${moduleIdx + 1}.${lessonIdx + 1}</span>
                                    ${lesson.title.split(': ')[1] || lesson.title}
                                </div>
                                <div class="lesson-duration"><i class="fa-regular fa-clock" style="font-size: 0.7em;"></i> ${lesson.duration}</div>
                            </div>
                        </div>
                    `;
                }).join('');

                return `
                    <div class="module-item ${isActiveModule ? 'active' : ''}" id="module-${moduleIdx}">
                        <button class="module-header" onclick="toggleModule(${moduleIdx})">
                            <div class="module-title-text">
                                <span class="module-number">${moduleIdx + 1}</span>
                                ${module.title.split('. ')[1]}
                            </div>
                            <i class="fa-solid fa-chevron-down module-toggle-icon"></i>
                        </button>
                        <div class="lesson-list">
                            ${lessonsHTML}
                        </div>
                    </div>
                `;
            }).join('');
        }

        /**
         * Gerencia o clique em uma aula.
         */
        window.handleLessonClick = function(videoId, moduleTitle) {
            loadLesson(videoId, moduleTitle);
            markAsWatched(videoId);
            renderSidebar();
            if (window.innerWidth <= 1024) {
                window.scrollTo({ top: 0, behavior: 'smooth' });
            }
        };

        /**
         * Carrega a aula e inicia o v√≠deo.
         */
        function loadLesson(videoId, moduleTitle) {
            loadLessonMetadata(videoId, moduleTitle);
            dom.player.src = `https://www.youtube.com/embed/${videoId}?autoplay=1&rel=0&modestbranding=1&color=white`;
        }

        /**
         * Apenas carrega os metadados da aula sem iniciar o v√≠deo.
         */
        function loadLessonMetadata(videoId, moduleTitle) {
            let selectedLesson;
            for (const module of courseData) {
                selectedLesson = module.lessons.find(l => l.id === videoId);
                if (selectedLesson) break;
            }

            if (!selectedLesson) return;

            appState.currentLessonId = videoId;
            dom.videoTitle.textContent = selectedLesson.title;
            dom.videoDesc.textContent = selectedLesson.description || "Assista a esta aula para dominar o conte√∫do.";
            dom.videoDuration.textContent = selectedLesson.duration;
            // Atualiza o nome do m√≥dulo removendo o n√∫mero inicial "1. "
            dom.videoModuleName.querySelector('span').textContent = moduleTitle.split('. ')[1] || moduleTitle;
        }

        /**
         * Alterna a visibilidade de um m√≥dulo (Accordion).
         */
        window.toggleModule = function(index) {
            appState.activeModuleIndex = appState.activeModuleIndex === index ? null : index;
            renderSidebar();
        }

        /**
         * Marca uma aula como assistida e salva no LocalStorage.
         */
        function markAsWatched(videoId) {
            if (!appState.watchedLessons.has(videoId)) {
                appState.watchedLessons.add(videoId);
                localStorage.setItem('jupiterSmart_watched', JSON.stringify([...appState.watchedLessons]));
                updateGlobalProgress();
            }
        }

        /**
         * Calcula e atualiza a barra de progresso global.
         */
        function updateGlobalProgress() {
            const totalLessons = courseData.reduce((count, module) => count + module.lessons.length, 0);
            if (totalLessons === 0) return;

            const watchedCount = appState.watchedLessons.size;
            const percentage = Math.round((watchedCount / totalLessons) * 100);

            dom.progressText.textContent = `${percentage}% Conclu√≠do`;
            dom.progressFill.style.width = `${percentage}%`;
        }

        // Inicia a aplica√ß√£o
        initApp();

    </script>
</body>
</html>
