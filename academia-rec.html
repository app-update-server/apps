<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Rec Vendas Academy | Masterclass Profissional</title>
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">

    <style>
        /* --- DESIGN TOKENS & THEME --- */
        :root {
            --primary-hue: 220; /* Azul */
            --secondary-hue: 25;  /* Laranja */
            
            --color-primary: hsl(var(--primary-hue), 90%, 55%);
            --color-primary-dark: hsl(var(--primary-hue), 90%, 40%);
            --color-secondary: hsl(var(--secondary-hue), 95%, 55%);
            
            --bg-app: #0f172a;
            --bg-panel: #1e293b;
            --bg-panel-hover: #334155;
            --border-color: #334155;
            
            --text-primary: #f8fafc;
            --text-secondary: #94a3b8;
            --text-muted: #64748b;
            
            --success-color: #10b981;
            --radius-md: 8px;
            --radius-lg: 12px;
            --shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 0.05);
            --shadow-md: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
            
            --header-height: 64px;
            --sidebar-width: 320px;
        }

        /* --- RESET & BASE STYLES --- */
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: 'Inter', sans-serif;
            background-color: var(--bg-app);
            color: var(--text-primary);
            height: 100vh;
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }
        a { text-decoration: none; color: inherit; }
        button { border: none; background: none; cursor: pointer; font-family: inherit; }

        /* --- LAYOUT COMPONENTS --- */
        
        /* Header */
        .app-header {
            height: var(--header-height);
            padding: 0 24px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            background-color: var(--bg-panel);
            border-bottom: 1px solid var(--border-color);
            z-index: 10;
        }
        .brand {
            display: flex; align-items: center; gap: 12px;
            font-weight: 700; font-size: 1.125rem;
        }
        .brand-icon {
            color: var(--color-primary); font-size: 1.5rem;
        }
        .user-progress-container {
            display: flex; align-items: center; gap: 12px;
            font-size: 0.875rem; color: var(--text-secondary);
        }
        .progress-bar {
            width: 120px; height: 8px;
            background-color: var(--bg-app);
            border-radius: 4px; overflow: hidden;
        }
        .progress-fill {
            height: 100%; background-color: var(--color-primary);
            width: 0%; transition: width 0.3s ease;
        }

        /* Main Content Area */
        .main-container {
            flex: 1; display: flex; overflow: hidden;
            position: relative;
        }

        /* Video Stage */
        .video-stage {
            flex: 1; display: flex; flex-direction: column;
            overflow-y: auto; padding: 24px;
        }
        .video-wrapper {
            width: 100%; max-width: 1024px; margin: 0 auto;
            aspect-ratio: 16/9;
            background-color: #000;
            border-radius: var(--radius-lg);
            overflow: hidden;
            box-shadow: var(--shadow-md);
        }
        iframe { width: 100%; height: 100%; border: none; }
        
        .video-info {
            max-width: 1024px; margin: 24px auto 0;
        }
        .video-meta {
            display: flex; gap: 12px; margin-bottom: 12px;
            font-size: 0.875rem; color: var(--text-secondary); font-weight: 500;
        }
        .meta-badge {
            padding: 4px 10px; border-radius: 20px;
            background-color: var(--bg-panel); border: 1px solid var(--border-color);
        }
        .meta-badge.highlight {
            color: var(--color-primary); background-color: rgba(59, 130, 246, 0.1); border-color: rgba(59, 130, 246, 0.2);
        }
        .video-title {
            font-size: 1.75rem; font-weight: 700; margin-bottom: 12px;
        }
        .video-description {
            color: var(--text-secondary); line-height: 1.6;
        }

        /* Sidebar & Navigation */
        .sidebar {
            width: var(--sidebar-width);
            background-color: var(--bg-panel);
            border-left: 1px solid var(--border-color);
            display: flex; flex-direction: column;
            z-index: 5; transition: transform 0.3s ease;
        }
        .sidebar-header {
            padding: 16px;
            border-bottom: 1px solid var(--border-color);
            font-weight: 600; color: var(--text-secondary); font-size: 0.875rem; text-transform: uppercase; letter-spacing: 0.05em;
        }
        .module-nav {
            flex: 1; overflow-y: auto;
        }

        /* Accordion Module Design */
        .module-item {
            border-bottom: 1px solid var(--border-color);
        }
        .module-header {
            width: 100%; padding: 16px;
            display: flex; align-items: center; justify-content: space-between;
            color: var(--text-primary); font-weight: 600; text-align: left;
            transition: background-color 0.2s;
        }
        .module-header:hover { background-color: var(--bg-panel-hover); }
        .module-title { display: flex; align-items: center; gap: 8px; }
        .module-toggle-icon { transition: transform 0.3s; color: var(--text-muted); }
        .module-item.active .module-toggle-icon { transform: rotate(180deg); }

        .lesson-list {
            display: none; background-color: rgba(0,0,0,0.1);
        }
        .module-item.active .lesson-list { display: block; }

        .lesson-item {
            display: flex; align-items: flex-start; gap: 12px;
            padding: 12px 16px;
            cursor: pointer; transition: all 0.2s;
            border-left: 3px solid transparent;
        }
        .lesson-item:hover { background-color: var(--bg-panel-hover); }
        .lesson-item.active-lesson {
            background-color: rgba(59, 130, 246, 0.1);
            border-left-color: var(--color-primary);
        }
        .lesson-item.watched .lesson-title { color: var(--text-muted); }

        .lesson-status-icon {
            margin-top: 2px; color: var(--text-muted); font-size: 1rem;
        }
        .lesson-item.watched .lesson-status-icon { color: var(--success-color); }
        .lesson-item.active-lesson .lesson-status-icon.fa-play-circle { color: var(--color-primary); }

        .lesson-content { flex: 1; }
        .lesson-title { font-size: 0.9375rem; margin-bottom: 4px; line-height: 1.4; }
        .lesson-duration { font-size: 0.75rem; color: var(--text-muted); display: flex; align-items: center; gap: 4px; }

        /* Sidebar Footer */
        .sidebar-footer {
            padding: 16px; border-top: 1px solid var(--border-color);
        }
        .btn-support {
            width: 100%; padding: 12px;
            display: flex; align-items: center; justify-content: center; gap: 8px;
            background-color: var(--color-primary); color: white;
            border-radius: var(--radius-md); font-weight: 600;
            transition: background-color 0.2s;
        }
        .btn-support:hover { background-color: var(--color-primary-dark); }

        /* --- RESPONSIVE DESIGN --- */
        @media (max-width: 1024px) {
            .main-container { flex-direction: column; }
            .video-stage { flex: none; }
            .sidebar {
                width: 100%; height: auto; flex: 1;
                border-left: none; border-top: 1px solid var(--border-color);
            }
            .module-nav { max-height: none; }
        }

        @media (max-width: 768px) {
            .app-header { padding: 0 16px; }
            .brand span { display: none; }
            .video-stage { padding: 16px; }
            .video-title { font-size: 1.25rem; }
        }
    </style>
</head>
<body>

    <header class="app-header">
        <div class="brand">
            <i class="fa-brands fa-space-awesome brand-icon"></i>
            <div>Rec Vendas <span>Academy</span></div>
        </div>
        <div class="user-progress-container">
            <span id="progress-text">0% Conclu√≠do</span>
            <div class="progress-bar">
                <div class="progress-fill" id="progress-fill"></div>
            </div>
        </div>
    </header>

    <main class="main-container">
        
        <section class="video-stage">
            <div class="video-wrapper">
                <iframe id="video-player" src="" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
            </div>

            <div class="video-info">
                <div class="video-meta">
                    <span class="meta-badge highlight" id="video-module-name">M√≥dulo</span>
                    <span class="meta-badge"><i class="fa-regular fa-clock"></i> <span id="video-duration">--:--</span></span>
                </div>
                <h1 class="video-title" id="video-title">Selecione uma aula para come√ßar</h1>
                <p class="video-description" id="video-desc">Sua jornada de aprendizado come√ßa aqui. Navegue pelos m√≥dulos ao lado.</p>
            </div>
        </section>

        <aside class="sidebar">
            <div class="sidebar-header">Conte√∫do do Curso</div>
            
            <nav class="module-nav" id="module-accordion-container">
                </nav>

            <div class="sidebar-footer">
                <a href="https://wa.me/5521980649585?text=Ol%C3%A1%2C%20preciso%20de%20ajuda%20com%20o%20Rec%20Vendas%20Academy." target="_blank" class="btn-support">
                    <i class="fa-brands fa-whatsapp"></i> Suporte ao Aluno
                </a>
            </div>
        </aside>

    </main>

    <script>
        /**
         * ==================================================================
         * üß¨ CAMADA DE DADOS (Model)
         * Centraliza todas as informa√ß√µes do curso.
         * Para adicionar novos v√≠deos, basta incluir um novo objeto aqui.
         * ==================================================================
         */
        const courseData = [
            {
                id: "mod_inicio",
                title: "1. In√≠cio R√°pido & Configura√ß√£o",
                lessons: [
                    { id: "fh1ybm1nda8", title: "Configura√ß√µes Essenciais: Personalizando seu Sistema", duration: "03:15", description: "Aprenda a deixar o Rec Vendas com a cara da sua empresa. Configura√ß√£o de logotipo, dados fiscais e prefer√™ncias de uso." },
                    { id: "1IGYlpA_Vtc", title: "Vis√£o Geral do Dashboard: Seu Painel de Controle", duration: "01:54", description: "Entenda os principais indicadores e gr√°ficos da tela inicial para ter uma vis√£o r√°pida da sa√∫de do seu neg√≥cio." },
                    { id: "-ZORPnNJ-xo", title: "Gest√£o de Clientes e CRM: O Ativo Mais Valioso", duration: "02:27", description: "Como cadastrar, organizar e gerenciar o relacionamento com seus clientes de forma eficiente." },
                    { id: "9mp6bw_D2p4", title: "Cadastro de Fornecedores: Organizando Parceiros", duration: "03:50", description: "Mantenha o controle dos seus fornecedores de produtos e servi√ßos para facilitar a reposi√ß√£o de estoque." }
                ]
            },
            {
                id: "mod_operacao",
                title: "2. Opera√ß√£o Di√°ria & Vendas",
                lessons: [
                    { id: "O-_YlIVTLOk", title: "Cat√°logo de Produtos e Servi√ßos: O Cora√ß√£o da Venda", duration: "03:04", description: "Cadastre seus itens de forma estrat√©gica, com pre√ßos, custos e controle de estoque integrado." },
                    { id: "tBEfWuL65eg", title: "Realizando Vendas: Do Checkout ao Pagamento", duration: "01:54", description: "O fluxo completo de uma venda: selecionando produtos, aplicando descontos e registrando o pagamento." },
                    { id: "PBUIFGKCd5A", title: "Or√ßamentos Profissionais: Converta Mais Propostas", duration: "02:18", description: "Crie e envie or√ßamentos detalhados e com apar√™ncia profissional para seus clientes." },
                    { id: "yFSpKaP6zMw", title: "Recibos e Comprovantes: Formaliza√ß√£o e Seguran√ßa", duration: "02:21", description: "Gere e imprima recibos de venda e presta√ß√£o de servi√ßo com um clique." }
                ]
            },
            {
                id: "mod_financeiro",
                title: "3. Controle Financeiro Total",
                lessons: [
                    { id: "kt_E4dtT7sw", title: "Fluxo de Caixa: Entradas, Sa√≠das e Lucratividade", duration: "03:16", description: "Domine o m√≥dulo financeiro. Aprenda a lan√ßar despesas, acompanhar recebimentos e analisar o resultado real do seu neg√≥cio." }
                ]
            },
             {
                id: "mod_estrategia",
                title: "4. Estrat√©gia & Crescimento",
                lessons: [
                    { id: "OynUwJHnb3A", title: "Campanhas Inteligentes com IA: Venda Mais", duration: "01:49", description: "Utilize ferramentas avan√ßadas para criar campanhas de marketing direcionadas e aumentar suas vendas." }
                ] 
            },
			
			{
                id: "mod_atualiza√ß√µes",
                title: "5. O que h√° de novo? (Atualiza√ß√£o)",
                lessons: [
                    { id: "WpOyOWoQf0I", title: "An√°lise da nova VERS√ÉO 4.0.0 do Rec Vendas Pro", duration: "05:37", description: "Nesse v√≠deo eu fa√ßo uma an√°lise completa sobre a nova 4.0 vers√£o do Rec Vendas Pro." }
                ] 
            }
        ];

        /**
         * ==================================================================
         * ‚öôÔ∏è CAMADA DE APLICA√á√ÉO (Controller & View)
         * Gerencia a l√≥gica, o estado e a renderiza√ß√£o da interface.
         * ==================================================================
         */
        
        // --- Estado da Aplica√ß√£o ---
        const appState = {
            watchedLessons: new Set(JSON.parse(localStorage.getItem('recVendas_watched')) || []),
            activeModuleIndex: 0, // M√≥dulo aberto no accordion
            currentLessonId: null
        };

        // --- Refer√™ncias aos Elementos do DOM ---
        const dom = {
            player: document.getElementById('video-player'),
            videoTitle: document.getElementById('video-title'),
            videoDesc: document.getElementById('video-desc'),
            videoDuration: document.getElementById('video-duration'),
            videoModuleName: document.getElementById('video-module-name'),
            accordionContainer: document.getElementById('module-accordion-container'),
            progressText: document.getElementById('progress-text'),
            progressFill: document.getElementById('progress-fill')
        };

        // --- Fun√ß√µes Principais ---

        /**
         * Inicializa a aplica√ß√£o.
         */
        function initApp() {
            renderSidebar();
            updateGlobalProgress();
            
            // Tenta carregar a primeira aula ou a √∫ltima assistida
            const firstModule = courseData[0];
            if (firstModule && firstModule.lessons.length > 0) {
                const firstLesson = firstModule.lessons[0];
                loadLesson(firstLesson.id, firstModule.title);
                // Abre o primeiro m√≥dulo por padr√£o
                toggleModule(0);
            }
        }

        /**
         * Renderiza a barra lateral com base nos dados do curso.
         * Usa um padr√£o de Accordion para melhor organiza√ß√£o.
         */
        function renderSidebar() {
            dom.accordionContainer.innerHTML = courseData.map((module, moduleIdx) => {
                const isActiveModule = moduleIdx === appState.activeModuleIndex;
                
                const lessonsHTML = module.lessons.map(lesson => {
                    const isWatched = appState.watchedLessons.has(lesson.id);
                    const isActiveLesson = lesson.id === appState.currentLessonId;
                    
                    let iconClass = isWatched ? "fa-solid fa-circle-check" : "fa-regular fa-circle";
                    if (isActiveLesson && !isWatched) iconClass = "fa-regular fa-circle-play";

                    return `
                        <div class="lesson-item ${isActiveLesson ? 'active-lesson' : ''} ${isWatched ? 'watched' : ''}" 
                             onclick="handleLessonClick('${lesson.id}', '${module.title}')">
                            <i class="${iconClass} lesson-status-icon"></i>
                            <div class="lesson-content">
                                <div class="lesson-title">${lesson.title}</div>
                                <div class="lesson-duration"><i class="fa-regular fa-clock" style="font-size: 0.7em;"></i> ${lesson.duration}</div>
                            </div>
                        </div>
                    `;
                }).join('');

                return `
                    <div class="module-item ${isActiveModule ? 'active' : ''}" id="module-${moduleIdx}">
                        <button class="module-header" onclick="toggleModule(${moduleIdx})">
                            <div class="module-title">
                                ${module.title}
                            </div>
                            <i class="fa-solid fa-chevron-down module-toggle-icon"></i>
                        </button>
                        <div class="lesson-list">
                            ${lessonsHTML}
                        </div>
                    </div>
                `;
            }).join('');
        }

        /**
         * Gerencia o clique em uma aula.
         */
        window.handleLessonClick = function(videoId, moduleTitle) {
            loadLesson(videoId, moduleTitle);
            markAsWatched(videoId);
            // Re-renderiza a sidebar para atualizar estados (ativo/assistido)
            renderSidebar();
            // Rola para o topo em dispositivos m√≥veis
            if (window.innerWidth <= 1024) {
                window.scrollTo({ top: 0, behavior: 'smooth' });
            }
        };

        /**
         * Carrega os dados de uma aula no player e na √°rea de informa√ß√µes.
         */
        function loadLesson(videoId, moduleTitle) {
            let selectedLesson;
            // Encontra a aula nos dados
            for (const module of courseData) {
                selectedLesson = module.lessons.find(l => l.id === videoId);
                if (selectedLesson) break;
            }

            if (!selectedLesson) return;

            appState.currentLessonId = videoId;

            // Atualiza o DOM
            dom.player.src = `https://www.youtube.com/embed/${videoId}?autoplay=1&rel=0&modestbranding=1&color=white`;
            dom.videoTitle.textContent = selectedLesson.title;
            dom.videoDesc.textContent = selectedLesson.description || "Assista a esta aula para dominar o conte√∫do.";
            dom.videoDuration.textContent = selectedLesson.duration;
            dom.videoModuleName.textContent = moduleTitle;
        }

        /**
         * Alterna a visibilidade de um m√≥dulo (Accordion).
         */
        window.toggleModule = function(index) {
            appState.activeModuleIndex = appState.activeModuleIndex === index ? null : index;
            renderSidebar();
        }

        /**
         * Marca uma aula como assistida e salva no LocalStorage.
         */
        function markAsWatched(videoId) {
            if (!appState.watchedLessons.has(videoId)) {
                appState.watchedLessons.add(videoId);
                localStorage.setItem('recVendas_watched', JSON.stringify([...appState.watchedLessons]));
                updateGlobalProgress();
            }
        }

        /**
         * Calcula e atualiza a barra de progresso global.
         */
        function updateGlobalProgress() {
            const totalLessons = courseData.reduce((count, module) => count + module.lessons.length, 0);
            if (totalLessons === 0) return;

            const watchedCount = appState.watchedLessons.size;
            const percentage = Math.round((watchedCount / totalLessons) * 100);

            dom.progressText.textContent = `${percentage}% Conclu√≠do`;
            dom.progressFill.style.width = `${percentage}%`;
        }

        // Inicia a aplica√ß√£o
        initApp();

    </script>
</body>
</html>